(this.webpackJsonpravenous2=this.webpackJsonpravenous2||[]).push([[0],[,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(4),r=s.n(a),i=(s(9),s(2)),o=(s(10),s(11),s(12),s(0)),l=function(e){var t=e.business;return Object(o.jsxs)("article",{className:"Business",children:[Object(o.jsx)("section",{className:"image-container",children:t.imageSrc?Object(o.jsx)("img",{src:t.imageSrc,alt:t.name}):Object(o.jsx)("img",{src:"https://cuponeaya.mx/wp-content/uploads/2022/02/image-not-available-1.png",alt:"image not available"})}),Object(o.jsx)("h2",{children:t.name}),Object(o.jsxs)("section",{className:"Business-information",children:[Object(o.jsxs)("section",{className:"Business-address",children:[Object(o.jsx)("p",{children:t.address}),Object(o.jsx)("p",{children:t.city}),Object(o.jsxs)("p",{children:[t.state," ",t.zipCode]})]}),Object(o.jsxs)("section",{className:"Business-reviews",children:[Object(o.jsx)("h3",{children:t.category}),Object(o.jsxs)("h3",{className:"rating",children:[t.rating," stars"]}),Object(o.jsxs)("p",{children:[t.reviewCount," reviews"]})]})]})]})},u=function(e){var t=e.businesses;return Object(o.jsx)("ul",{className:"BusinessList",children:t.map((function(e){return Object(o.jsx)(l,{business:e},e.id)}))})},j=(s(14),{"Best Match":"best_match","Highest Rated":"rating","Most Reviewed":"review_count"}),h=function(e){var t=e.searchYelp,s=Object(n.useState)(""),c=Object(i.a)(s,2),a=c[0],r=c[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),h=u[0],b=u[1],d=Object(n.useState)("best_match"),m=Object(i.a)(d,2),O=m[0],x=m[1],g=function(e){var t=e.target.innerText;console.log(t,j[t]),x(j[t])};return Object(o.jsxs)("article",{className:"SearchBar",children:[Object(o.jsx)("section",{className:"SearchBar-sort-options",children:Object(o.jsx)("ul",{children:Object.keys(j).map((function(e){var t,s=j[e];return Object(o.jsx)("li",{className:(t=s,O===t?"active":""),onClick:g,children:e},s)}))})}),Object(o.jsxs)("section",{className:"SearchBar-fields",children:[Object(o.jsx)("input",{placeholder:"Search Businesses",onChange:function(e){var t=e.target;r(t.value)},value:a}),Object(o.jsx)("input",{placeholder:"Where?",onChange:function(e){var t=e.target;b(t.value)},value:h})]}),Object(o.jsx)("section",{className:"SearchBar-submit",children:Object(o.jsx)("a",{onClick:function(e){e.preventDefault(),t(a,h,O),r(""),b(""),x("best_match")},children:"Let's Go"})})]})},b={search:function(e,t,s){return fetch("/businesses/search?term=".concat(e,"&location=").concat(t,"&sort_by=").concat(s),{headers:{Authorization:"Bearer ".concat("kMZnrs4kkqP8S8mTeo0fVo07dmyxcI2_UsJGfYjcQWmnSDhxgVGpMzbDP3xnJP-JBwFarYXFocUNeAn94v9Mux2shGZJHWSQVOTmUysUgwjNoOrFKUl3lk8I0VBBYHYx")}}).then((function(e){return console.log("Response: ",e),e.json().then((function(e){return e}))})).then((function(e){return console.log("Json response: ",e),e.error?e:e.businesses?e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,adress:e.location.adress1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories.alias,rating:e.rating,reviewCount:e.review_count}})):void 0})).catch((function(e){return console.log(e.message)}))}},d=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)({text:"",show:!1}),r=Object(i.a)(a,2),l=r[0],j=r[1];return Object(o.jsxs)("main",{className:"App",children:[Object(o.jsx)("h1",{children:"ravenous"}),Object(o.jsx)(h,{searchYelp:function(e,t,s){j({text:"Loading...",show:!0}),b.search(e,t,s).then((function(e){if(e.error){var t="Sorry. ".concat(e.error.description);throw new Error(t)}c(e),j({text:"",show:!1})})).catch((function(e){j({text:e.message,show:!0})}))}}),l.show?Object(o.jsx)("h2",{className:"message",children:l.text}):Object(o.jsx)(u,{businesses:s})]})},m=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,16)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(d,{})}),document.getElementById("root")),m()}],[[15,1,2]]]);
//# sourceMappingURL=main.ff3ee26d.chunk.js.map