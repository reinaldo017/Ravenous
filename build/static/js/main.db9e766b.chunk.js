(this.webpackJsonpravenous2=this.webpackJsonpravenous2||[]).push([[0],[,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(5),r=s.n(a),i=(s(11),s(2)),o=(s(12),s(13),s(14),s(0)),u=function(e){var t=e.business;return Object(o.jsxs)("article",{className:"Business",children:[Object(o.jsx)("section",{className:"image-container",children:t.imageSrc?Object(o.jsx)("img",{src:t.imageSrc,alt:t.name}):Object(o.jsx)("img",{src:"https://cuponeaya.mx/wp-content/uploads/2022/02/image-not-available-1.png",alt:"image not available"})}),Object(o.jsx)("h2",{children:t.name}),Object(o.jsxs)("section",{className:"Business-information",children:[Object(o.jsxs)("section",{className:"Business-address",children:[Object(o.jsx)("p",{children:t.address}),Object(o.jsx)("p",{children:t.city}),Object(o.jsxs)("p",{children:[t.state," ",t.zipCode]})]}),Object(o.jsxs)("section",{className:"Business-reviews",children:[Object(o.jsx)("h3",{children:t.category}),Object(o.jsxs)("h3",{className:"rating",children:[t.rating," stars"]}),Object(o.jsxs)("p",{children:[t.reviewCount," reviews"]})]})]})]})},l=function(e){var t=e.businesses;return Object(o.jsx)("ul",{className:"BusinessList",children:t.map((function(e){return Object(o.jsx)(u,{business:e},e.id)}))})},j=(s(16),{"Best Match":"best_match","Highest Rated":"rating","Most Reviewed":"review_count"}),h=function(e){var t=e.searchYelp,s=Object(n.useState)(""),c=Object(i.a)(s,2),a=c[0],r=c[1],u=Object(n.useState)(""),l=Object(i.a)(u,2),h=l[0],b=l[1],d=Object(n.useState)("best_match"),x=Object(i.a)(d,2),O=x[0],m=x[1],p=function(e){var t=e.target.innerText;console.log(t,j[t]),m(j[t])};return Object(o.jsxs)("article",{className:"SearchBar",children:[Object(o.jsx)("section",{className:"SearchBar-sort-options",children:Object(o.jsx)("ul",{children:Object.keys(j).map((function(e){var t,s=j[e];return Object(o.jsx)("li",{className:(t=s,O===t?"active":""),onClick:p,children:e},s)}))})}),Object(o.jsxs)("section",{className:"SearchBar-fields",children:[Object(o.jsx)("input",{placeholder:"Search Businesses",onChange:function(e){var t=e.target;r(t.value)},value:a}),Object(o.jsx)("input",{placeholder:"Where?",onChange:function(e){var t=e.target;b(t.value)},value:h})]}),Object(o.jsx)("section",{className:"SearchBar-submit",children:Object(o.jsx)("a",{onClick:function(e){e.preventDefault(),t(a,h,O),r(""),b(""),m("best_match")},children:"Let's Go"})})]})},b=s(4),d=s(6),x={search:function(){var e=Object(d.a)(Object(b.a)().mark((function e(t,s,n){var c,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/businesses/search?term=".concat(t,"&location=").concat(s,"&sort_by=").concat(n),{headers:{Authorization:"Bearer ".concat("kMZnrs4kkqP8S8mTeo0fVo07dmyxcI2_UsJGfYjcQWmnSDhxgVGpMzbDP3xnJP-JBwFarYXFocUNeAn94v9Mux2shGZJHWSQVOTmUysUgwjNoOrFKUl3lk8I0VBBYHYx")}});case 3:return c=e.sent,e.next=6,c.json();case 6:if(!(a=e.sent).error){e.next=11;break}return e.abrupt("return",a);case 11:if(!a.businesses){e.next=13;break}return e.abrupt("return",a.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,adress:e.location.adress1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories.alias,rating:e.rating,reviewCount:e.review_count}})));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,s,n){return e.apply(this,arguments)}}()},O=x,m=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),s=t[0],c=t[1],a=Object(n.useState)({text:"",show:!1}),r=Object(i.a)(a,2),u=r[0],j=r[1];return Object(o.jsxs)("main",{className:"App",children:[Object(o.jsx)("h1",{children:"ravenous"}),Object(o.jsx)(h,{searchYelp:function(e,t,s){j({text:"Loading...",show:!0}),O.search(e,t,s).then((function(e){if(e.error){var t="Sorry. ".concat(e.error.description);throw new Error(t)}c(e),j({text:"",show:!1})})).catch((function(e){j({text:e.message,show:!0})}))}}),u.show?Object(o.jsx)("h2",{className:"message",children:u.text}):Object(o.jsx)(l,{businesses:s})]})},p=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),n(e),c(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root")),p()}],[[17,1,2]]]);
//# sourceMappingURL=main.db9e766b.chunk.js.map